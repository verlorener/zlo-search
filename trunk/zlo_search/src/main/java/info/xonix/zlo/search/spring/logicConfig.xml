<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="appLogic" class="info.xonix.zlo.search.logic.AppLogicImpl">
        <property name="dbDict" ref="dbDict"/>
        <property name="messagesDao" ref="messagesDao"/>
    </bean>

    <bean id="indexerLogic" class="info.xonix.zlo.search.logic.IndexerLogicImpl">
        <property name="config" ref="appConfig"/>
        <property name="appLogic" ref="appLogic"/>
    </bean>

    <!--site logic-->
    <bean id="pageParser" class="info.xonix.zlo.search.logic.site.PageParser">
        <property name="messagesDao" ref="messagesDao"/>
    </bean>

    <bean id="pageRetriever" class="info.xonix.zlo.search.logic.site.PageRetriever">
        <property name="config" ref="appConfig"/>
    </bean>

    <bean id="messageRetriever" class="info.xonix.zlo.search.logic.site.MessageRetriever">
        <property name="config" ref="appConfig"/>
        <property name="pageParser" ref="pageParser"/>
        <property name="pageRetriever" ref="pageRetriever"/>
    </bean>

    <bean id="siteLogic" class="info.xonix.zlo.search.logic.SiteLogicImpl">
        <property name="config" ref="appConfig"/>
        <property name="messageRetriever" ref="messageRetriever"/>
    </bean>

    <!--search logic-->
    <bean id="zloSearcher" class="info.xonix.zlo.search.logic.ZloSearcher">
        <property name="config" ref="appConfig"/>
    </bean>

    <!--audit logic-->
    <bean id="auditLogic" class="info.xonix.zlo.search.logic.AuditLogicImpl">
        <property name="auditDao" ref="auditDao"/>
    </bean>

    <bean id="exceptionLogger" class="info.xonix.zlo.search.logic.exceptions.ExceptionsLoggerImpl">
        <property name="auditDao" ref="auditDao"/>
    </bean>

</beans>